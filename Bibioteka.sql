-- Create Tables
CREATE TABLE PASNIEDZEJI (
    PASN_ID INTEGER PRIMARY KEY,
    VARDS VARCHAR2(30),
    UZVARDS VARCHAR2(30),
    EPASTS VARCHAR2(50),
    PAROLE VARCHAR2(30)
);

CREATE TABLE ADMINISTRATORS (
    ADMIN_ID INTEGER PRIMARY KEY,
    VARDS VARCHAR2(30),
    UZVARDS VARCHAR2(30),
    EPASTS VARCHAR2(50),
    PAROLE VARCHAR2(30)
);

CREATE TABLE GRUPA (
    GRUPA_ID INTEGER PRIMARY KEY,
    NOSAUKUMS VARCHAR2(30) UNIQUE,
    SEMINARANR INTEGER,
    CONSTRAINT GRUPA_PASNIEDZEJI_FK FOREIGN KEY (SEMINARANR) REFERENCES SEMINARI(SEMINARANR)
);

CREATE TABLE STUDENTI (
    STUD_ID INTEGER PRIMARY KEY,
    VARDS VARCHAR2(30),
    UZVARDS VARCHAR2(30),
    EPASTS VARCHAR2(50),
    PAROLE VARCHAR2(30),
    GRUPA_ID INTEGER,
    CONSTRAINT GRUPA_STUDENTI_FK FOREIGN KEY (GRUPA_ID) REFERENCES GRUPA(GRUPA_ID)
);

CREATE TABLE RAKSTI (
    RAKSTANR INTEGER PRIMARY KEY,  
    NOSAUKUMS VARCHAR2(50),  
    STUDENTUGRUPA VARCHAR2(30),
    STUD_ID INTEGER,
    CONSTRAINT STUDENTI_RAKSTI_FK FOREIGN KEY (STUD_ID) REFERENCES STUDENTI(STUD_ID)
);

CREATE TABLE SEMINARI (
    NOSAUKUMS VARCHAR2(50) PRIMARY KEY,   
    SEMINARANR INTEGER UNIQUE,
    DATUMS TIMESTAMP, 
    VIETA VARCHAR2(30),
    PASN_ID INTEGER,
    CONSTRAINT SEMINARI_PASNIEDZEJI_FK FOREIGN KEY (PASN_ID) REFERENCES PASNIEDZEJI(PASN_ID)
);

CREATE TABLE SEMINARI_RAKSTI (
    RAKSTANR INTEGER,
    SEMINARANR INTEGER,
    PRIMARY KEY (RAKSTANR, SEMINARANR),
    CONSTRAINT RAKSTI_SEMINARI_FK FOREIGN KEY (RAKSTANR) REFERENCES RAKSTI(RAKSTANR),
    CONSTRAINT SEMINARI_RAKSTI_FK FOREIGN KEY (SEMINARANR) REFERENCES SEMINARI(SEMINARANR)
);

-- Pievienojam pasniedzējus
INSERT INTO PASNIEDZEJI (PASN_ID, VARDS, UZVARDS, EPASTS, PAROLE)
VALUES (1, 'Jānis', 'Kalniņš', 'janis.kalnins@example.com', 'Parole123');

INSERT INTO PASNIEDZEJI (PASN_ID, VARDS, UZVARDS, EPASTS, PAROLE)
VALUES (2, 'Anna', 'Bērziņa', 'anna.berzina@example.com', 'DrošaParole');

-- Pievienojam administratoru
INSERT INTO ADMINISTRATORS (ADMIN_ID, VARDS, UZVARDS, EPASTS, PAROLE)
VALUES (1, 'Pēteris', 'Liepa', 'peteris.liepa@example.com', 'Admin123');

-- Pievienojam seminārus
INSERT INTO SEMINARI (SEMINARANR, NOSAUKUMS, DATUMS, VIETA, PASN_ID)
VALUES (1, 'Datu analīzes seminārs', TO_TIMESTAMP('2024-03-15 10:30:00', 'YYYY-MM-DD HH24:MI:SS'), 'Rīga', 1);

INSERT INTO SEMINARI (SEMINARANR, NOSAUKUMS, DATUMS, VIETA, PASN_ID)
VALUES (2, 'MI un tā pielietojums', TO_TIMESTAMP('2024-04-10 14:00:00', 'YYYY-MM-DD HH24:MI:SS'), 'Liepāja', 2);

-- Pievienojam grupas
INSERT INTO GRUPA (GRUPA_ID, NOSAUKUMS, SEMINARANR)
VALUES (1, 'Datu analīze', 1);

INSERT INTO GRUPA (GRUPA_ID, NOSAUKUMS, SEMINARANR)
VALUES (2, 'Mākslīgais intelekts', 2);

-- Pievienojam studentus
INSERT INTO STUDENTI (STUD_ID, VARDS, UZVARDS, EPASTS, PAROLE, GRUPA_ID)
VALUES (1, 'Marta', 'Ozoliņa', 'marta.ozolina@example.com', 'Stud123', 1);

INSERT INTO STUDENTI (STUD_ID, VARDS, UZVARDS, EPASTS, PAROLE, GRUPA_ID)
VALUES (2, 'Andris', 'Eglītis', 'andris.eglitiss@example.com', 'Stud456', 1);

INSERT INTO STUDENTI (STUD_ID, VARDS, UZVARDS, EPASTS, PAROLE, GRUPA_ID)
VALUES (3, 'Laura', 'Kļaviņa', 'laura.klavina@example.com', 'Stud789', 1);

INSERT INTO STUDENTI (STUD_ID, VARDS, UZVARDS, EPASTS, PAROLE, GRUPA_ID)
VALUES (4, 'Edgars', 'Zālītis', 'edgars.zalitis@example.com', 'StudABC', 2);

INSERT INTO STUDENTI (STUD_ID, VARDS, UZVARDS, EPASTS, PAROLE, GRUPA_ID)
VALUES (5, 'Ilze', 'Krūmiņa', 'ilze.krumina@example.com', 'StudDEF', 2);

INSERT INTO STUDENTI (STUD_ID, VARDS, UZVARDS, EPASTS, PAROLE, GRUPA_ID)
VALUES (6, 'Juris', 'Lūsis', 'juris.lusis@example.com', 'StudGHI', 2);

-- Pievienojam rakstus
INSERT INTO RAKSTI (RAKSTANR, NOSAUKUMS, STUDENTUGRUPA, STUD_ID)
VALUES (101, 'Datu analīzes metodes', 'Datu analīze', 1);

INSERT INTO RAKSTI (RAKSTANR, NOSAUKUMS, STUDENTUGRUPA, STUD_ID)
VALUES (102, 'Neironu tīkli un MI', 'Mākslīgais intelekts', 4);

INSERT INTO RAKSTI (RAKSTANR, NOSAUKUMS, STUDENTUGRUPA, STUD_ID)
VALUES (103, 'SQL indeksu optimizācija', 'Datu analīze', 2);

-- Pievienojam saistību starp semināriem un rakstiem
INSERT INTO SEMINARI_RAKSTI (RAKSTANR, SEMINARANR)
VALUES (101, 1);

INSERT INTO SEMINARI_RAKSTI (RAKSTANR, SEMINARANR)
VALUES (102, 2);

INSERT INTO SEMINARI_RAKSTI (RAKSTANR, SEMINARANR)
VALUES (103, 1);
